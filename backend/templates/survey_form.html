<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Survey Form</title>
</head>
<body>
  <h1>Create a Survey</h1>
  <form action="/submit_data" method="post" enctype="application/json">
    <label for="surveyId">Survey ID:</label>
    <input type="text" id="surveyId" name="surveyId" required><br>
    <label for="surveyName">Survey Name:</label>
    <input type="text" id="surveyName" name="surveyName" required><br>
    <label for="introPrompt">Intro Prompt:</label>
    <textarea id="introPrompt" name="introPrompt" rows="4" cols="50"></textarea><br>
    <label for="outroPrompt">Outro Prompt:</label>
    <textarea id="outroPrompt" name="outroPrompt" rows="4" cols="50"></textarea><br>
    <label for="min">Minimum Value:</label>
    <input type="number" id="min" name="min" required><br>
    <label for="max">Maximum Value:</label>
    <input type="number" id="max" name="max" required><br>

    <h2>Questions</h2>
    <div id="questions-container">
      <label for="question1">Question 1:</label>
      <input type="text" id="question1" name="questions" required><br>
    </div>
    <button type="button" onclick="addQuestion()">Add Question</button>

    <h2>Flags</h2>
    <div id="flags-container">
      <label for="flag1">Flag 1:</label>
      <input type="text" id="flag1" name="flags" required><br>
    </div>
    <button type="button" onclick="addFlag()">Add Flag</button><br>

    <button type="submit">Submit Survey</button>
  </form>

  <script>
    function addQuestion() {
      const container = document.getElementById("questions-container");
      const numQuestions = container.querySelectorAll("input[name='questions']").length;
      const newQuestion = document.createElement("div");
      newQuestion.innerHTML = `<label for="question${numQuestions + 1}">Question ${numQuestions + 1}:</label>
                              <input type="text" id="question${numQuestions + 1}" name="questions" required><br>`;
      container.appendChild(newQuestion);
    }

    function addFlag() {
      const container = document.getElementById("flags-container");
      const numFlags = container.querySelectorAll("input[name='flags']").length;
      const newFlag = document.createElement("div");
      newFlag.innerHTML = `<label for="flag${numFlags + 1}">Flag ${numFlags + 1}:</label>
                            <input type="text" id="flag${numFlags + 1}" name="flags" required><br>`;
      container.appendChild(newFlag);
    }
  </script>
</body>
</html>
